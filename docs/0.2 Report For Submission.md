# Xpense - Expenditure Management System Report

**DCIT308 - Data Structures and Algorithms II**  
**Project Work**  
**Group 68**

## Team Members
1. **Fenteng Michael** - 11210750
2. **Samuel Akpah** - 11125009
3. **Ryan Nii Akwei Brown** - 11357610
4. **Wisdom Nana-Abena Ogbonna** - 11288300
5. **Michel Kpodo** - 11012578
6. **Ransford Larbi** - 10681368
7. **Adams Emmanuel Paddy** - 11264136

---

## Project Overview

The goal of this project is to simulate a digital expenditure tracking and financial management system that mimics an accountant's workflow. The system provides:

- Recording and categorizing expenditures
- Managing bank accounts and balances
- Generating analytics reports
- Raising alerts for critical financial events
- Offline-first functionality with no cloud or network dependencies

This system helps users (or accountants) manage their finances efficiently without requiring internet connectivity.

---

## Class-by-Class Technical Analysis

### 1. CategoryManager

**Purpose:** Manages expenditure categories (add, search, update, delete, validate) and links expenditures to their respective categories.

#### Data Structures Used
- **SimpleSet:** Custom set for storing unique categories
- **SimpleMap:** Maps category names to their expenditure list

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Avoiding duplicate categories | SimpleSet ensures uniqueness of categories — like an accountant organizing ledgers by distinct types |
| Linking expenditures by type | SimpleMap provides a direct, fast lookup for category-to-expenditure association |
| Efficient validation & updates | Enables real-time category validation without needing database access |

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Add category | O(1) | Ω(1) | Uses SimpleMap (likely a custom map with direct access or linear search) |
| Get category by name | O(n) | Ω(1) | Depending on map implementation |
| List all categories | O(n) | Ω(n) | Linear traversal |

---

### 2. Category

**Purpose:** Represents a single expenditure category with metadata.

#### Data Fields
- **String id, String name, String description, String color**

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Structured record-keeping | An accountant often tags and describes categories to keep financial reporting meaningful |
| Data validation before entry | isValid() ensures the object is complete — enforcing integrity |

**Offline Suitability:** Pure object with local string fields; completely offline and memory-based.

---

### 3. BankLedger

**Purpose:** Central ledger for managing bank accounts, handling debit/credit transactions, and recording history.

#### Data Structures Used
- **HashMap<String, BankAccount>** → Stores all accounts by account ID
- **List<Transaction>** → Global transaction history
- **HashMap<String, List<Transaction>>** → Per-account transaction tracking

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Ledger-style bookkeeping | HashMap allows fast access to any account, like an accountant accessing ledgers by ID |
| Efficient transaction tracking | Lists allow sequential transaction history, essential for audits and reporting |
| Modular logging | Every debit/credit is logged automatically — essential for reconciliation |

**Offline Suitability:** Uses standard Java collections in-memory. Includes a FileManager to persist to file for offline storage and restore, simulating offline-first reliability.

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Add account | O(1) | Ω(1) | HashMap insertion |
| Get account by ID | O(1) | Ω(1) | HashMap lookup |
| Debit/Credit transaction | O(1) | Ω(1) | Direct account access + list append |
| Get transaction history | O(m) | Ω(m) | Where m = number of transactions for account |
| Get all accounts | O(n) | Ω(n) | Where n = number of accounts |

---

### 4. BankAccount

**Purpose:** Represents an individual bank account with balance, metadata, and expenditures.

#### Data Structures Used
- **BigDecimal balance** → For precise financial arithmetic
- **ArrayList<Expenditure>** → Tracks expenditures linked to this account

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| High-precision financial tracking | BigDecimal avoids floating-point errors — crucial in financial systems |
| Line-item tracking per account | Expenditures per account mirror ledger entries in accounting |

**Offline Suitability:** Fully local. No external API or network dependency. All operations occur in memory and can be persisted via file handling.

---

### 5. AnalyticsModule

**Purpose:** Performs financial analysis — such as category breakdowns, burn rate, spending trends, and affordability.

#### Data Structures Used
- **TreeMap<String, Double>** → Chronologically sorted monthly spending
- **PriorityQueue<CategorySpending>** → Tracks top spending categories
- **List<Map.Entry<>>** → Used for sorting category spending totals

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Trend and time-series analysis | TreeMap ensures months are sorted for chronological reporting |
| Budget prioritization | PriorityQueue allows ranking of highest-spending categories |
| Reporting on expense distribution | Accountant-style reporting by category is critical for financial review |

**Offline Suitability:** Operates purely in memory, using basic Java data structures. No third-party analytics engine required. Accepts expenditure data as input and returns insights locally.

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Category breakdown calculation | O(n) | Ω(n) | Must process all expenditures |
| Monthly burn rate calculation | O(n) | Ω(n) | Aggregate all expenditures by month |
| Generate cost analysis | O(n log n) | Ω(n log n) | Sorting categories by spending amount |
| Affordability insights | O(n) | Ω(n) | Linear calculation across expenditures |
| Trend analysis | O(n + m log m) | Ω(n + m log m) | Where n = expenditures, m = months |

---

### 6. AlertSystem

**Purpose:** Manages alerts (e.g., low balance, overspending) using a custom MinHeap — no Java built-in collections used for heap.

#### Data Structures Used
- **MinHeap<Alert>** → Binary heap managing alerts by priority
- **Alert (custom inner class)** → Stores alert message and priority

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Alert prioritization | Urgent alerts surface first — like an accountant reacting to critical events |
| Budget breach detection | Detects if spending exceeds thresholds per category |
| Smart reminders | Alerts prompt user action (e.g., deposit funds, cut spending) |

**Offline Suitability:** Custom-built heap ensures total control over priority logic. Functions without Java's PriorityQueue, which improves adaptability in restricted environments (embedded, mobile, offline systems).

---

### 7. FileManager

**Purpose:** The FileManager is responsible for all file input/output (I/O) operations in the expenditure management system.

#### Core Functionality
- Loading/saving data for expenditures, categories, bank accounts, and receipts
- Creating backups
- Restoring from backups
- Operating independently of databases or external servers

This makes it the core enabler of offline-first functionality.

#### Data Structures & Utilities Used

| Java Class | Role in the FileManager |
|------------|------------------------|
| ArrayList | Stores loaded objects (e.g., Expenditure, BankAccount, Receipt) before returning to the system |
| BufferedReader / BufferedWriter | Efficient reading and writing of text files |
| File, FileInputStream, FileOutputStream | Handling raw file manipulation, backups, and restoration |
| LocalDateTime, BigDecimal | Accurate handling of timestamps and financial values |

#### Workflow Simulation Justification

| Accounting Workflow Simulated | How FileManager Supports It |
|-------------------------------|----------------------------|
| Persistent record-keeping | Reads and writes structured plain-text files for expenditures, categories, accounts, and receipts |
| Data integrity and recovery | Backup and restore system ensures continuity in case of data loss |
| Journal-like audit trail | Writes structured entries (e.g., `code\|description\|amount\|dateTime\|category\|accountId`) |
| Separation of modules with clean I/O | Each file type is read/written independently, reflecting how accountants work with separate books/files |

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Load expenditures from file | O(n) | Ω(n) | Must read all n records from file |
| Save expenditures to file | O(n) | Ω(n) | Must write all n records to file |
| Load categories from file | O(m) | Ω(m) | Must read all m category records |
| Create backup | O(f) | Ω(f) | Where f = total file size across all data files |
| Restore from backup | O(f) | Ω(f) | File copy operations proportional to file size |
| Parse single record | O(1) | Ω(1) | Split and parse fixed-format line |

---

### 8. ExpenditureManager

**Purpose:** Manages all expenditure CRUD operations, search functionality, and business logic coordination with other modules.

#### Data Structures Used
- **ArrayList<Expenditure>** → Dynamic storage for all expenditures
- **HashMap<String, Expenditure>** → Fast lookup by expenditure ID
- **Integration with FileManager** for persistence

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Centralized expenditure management | Like an accountant's main ledger for all transactions |
| Fast ID-based lookup | Enables quick expenditure retrieval and updates |
| Batch operations support | Handles multiple expenditures efficiently for reporting |

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Add expenditure | O(1) | Ω(1) | ArrayList append + HashMap insert |
| Get expenditure by ID | O(1) | Ω(1) | HashMap direct lookup |
| Search by category | O(n) | Ω(1) | Linear search through all expenditures |
| Sort by date | O(n log n) | Ω(n log n) | Comparison-based sorting |
| Update expenditure | O(1) | Ω(1) | HashMap lookup + update |
| Delete expenditure | O(n) | Ω(1) | HashMap removal + ArrayList linear search |

---

### 9. SearchAndSortModule

**Purpose:** Provides search and sorting capabilities across expenditures for analytical reporting.

#### Data Structures Used
- Sorting algorithms for chronological and categorical organization
- Filter operations using predicate-based searching

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Financial record retrieval | Accountants need to quickly find specific transactions |
| Chronological organization | Essential for audit trails and time-based analysis |
| Category-based filtering | Enables budget analysis by expense type |

#### Sorting/Searching Techniques Implemented

##### Sorting Algorithms
1. **Date-based Sorting:** Uses comparison-based sorting (likely QuickSort or MergeSort) to arrange expenditures chronologically
2. **Category Alphabetical Sorting:** Lexicographic ordering for category-based organization
3. **Amount-based Sorting:** Numerical comparison sorting for financial analysis

##### Search Techniques
1. **Linear Search by Category:** Iterates through expenditures to find category matches
2. **Range Search by Amount:** Binary-search-like approach for amount ranges after sorting
3. **Time Range Filtering:** Date comparison filtering for period-based analysis
4. **Multi-criteria Search:** Combines multiple filters (category + date + amount)

#### Complexity Analysis

| Operation | Big-O (Worst) | Omega (Best) | Notes |
|-----------|---------------|--------------|--------|
| Sort by date | O(n log n) | Ω(n log n) | Comparison-based sorting algorithm |
| Sort by category | O(n log n) | Ω(n log n) | String comparison sorting |
| Linear search by category | O(n) | Ω(1) | Best case: first match found |
| Range search (sorted) | O(log n + k) | Ω(log n) | Where k = number of results |
| Time range filter | O(n) | Ω(n) | Must check all dates |
| Multi-criteria search | O(n) | Ω(1) | Linear scan with multiple conditions |

---

### 10. ReceiptHandler

**Purpose:** Manages receipt processing workflow using stack and queue data structures.

#### Data Structures Used
- **Stack<Receipt>** → LIFO processing for receipt review
- **Queue<Receipt>** → FIFO workflow for receipt processing
- **HashMap** for receipt-to-expenditure mapping

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Document processing workflow | Stack allows reviewing most recent receipts first |
| Sequential processing queue | Queue ensures receipts are processed in order received |
| Receipt-expense linking | Maps receipts to their corresponding expenditures for audit compliance |

---

### 11. XpenseSystem

**Purpose:** Acts as the main system coordinator that integrates all modules and provides centralized access to system functionality.

#### Data Structures Used
- Aggregates all manager instances (ExpenditureManager, CategoryManager, BankLedger, etc.)
- Provides unified API for CLI and other interfaces
- Coordinates data flow between modules

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Central control system | Like an accounting department's main controller coordinating all financial operations |
| Module integration | Ensures all components work together seamlessly for comprehensive financial management |
| System initialization | Handles startup procedures and data loading across all modules |

---

### 12. CLIHandler

**Purpose:** Provides the complete command-line user interface with menu navigation, input validation, and user experience enhancements.

#### Data Structures Used
- **Scanner** → User input handling
- **Switch statements** → Menu navigation logic
- **ANSI color codes** → Enhanced user interface
- **Integration with all system modules**

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Accountant interface simulation | Mimics how an accountant would interact with a digital financial system |
| Menu-driven workflow | Organized navigation reflects structured accounting procedures |
| Input validation and error handling | Ensures data integrity like professional accounting software |
| User-friendly operations | Color coding and clear prompts improve usability for financial data entry |

---

### 13. Expenditure

**Purpose:** Core data model representing individual expenditure records with all necessary financial metadata.

#### Data Fields
- **String id, String description, BigDecimal amount**
- **Category category, LocalDateTime dateTime, String phase**
- **String bankAccountId, String receiptInfo**

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Complete transaction record | Contains all fields an accountant needs for proper expense tracking |
| Financial precision | BigDecimal ensures accurate monetary calculations without floating-point errors |
| Audit trail support | DateTime and ID fields enable comprehensive transaction tracking |
| Multi-dimensional categorization | Phase, category, and account fields allow flexible expense analysis |

---

### 14. Receipt

**Purpose:** Represents physical or digital receipts linked to expenditures for audit and verification purposes.

#### Data Fields
- **String receiptId, String expenseCode, String filePath**
- **LocalDateTime timestamp**

#### Workflow Simulation Justification

| Workflow Simulated | Explanation |
|-------------------|-------------|
| Document management | Tracks receipt files like an accountant organizing physical documentation |
| Expenditure linking | Links receipts to specific expenses for audit compliance |
| File path tracking | Maintains reference to actual receipt files for verification |
| Timestamp tracking | Records when receipts were processed for chronological organization |

---

## Custom Data Structure Implementations (app/util)

The system includes custom implementations of fundamental data structures to meet DSA II project requirements and avoid external dependencies:

- **SimpleArrayList:** Dynamic array implementation providing resizable storage for expenditures, categories, and other collections

- **SimpleMap:** Key-value mapping structure used for category-to-expenditure associations and fast lookups

- **SimpleSet:** Ensures uniqueness of categories and other entities requiring distinct collections

- **SimpleStack:** LIFO data structure used in receipt processing workflow

- **SimpleQueue:** FIFO data structure managing receipt processing queues

- **MinHeap:** Custom binary heap implementation for priority-based alert management without using Java's PriorityQueue

These custom implementations demonstrate understanding of fundamental data structures while providing the exact functionality needed for the accounting workflow simulation.

---

## Conclusion

This expenditure management system successfully simulates an accountant's workflow through careful selection and implementation of appropriate data structures. The system achieves offline-first functionality while maintaining professional-grade financial accuracy and comprehensive audit capabilities. Each component is designed to work independently while contributing to a cohesive financial management solution that meets both technical requirements and real-world accounting needs.
